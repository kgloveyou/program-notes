# npx: The Easy Way to Run Node.js Packages

https://medium.com/@halilatilla/npx-the-easy-way-to-run-node-js-packages-58c6bcd01e7f



在 Node.js 的世界中，许多开发者使用 npm（Node 包管理器）来添加和管理项目中的包。然而，有时你可能希望快速运行特定的包或测试不同的版本。这就是 npx（Node 包运行器）发挥作用的地方。在本博客文章中，我们将研究 npx 是什么，它如何工作，以及其优缺点。

### 它是什么？

npx 是一个工具，允许你轻松运行 Node.js 包。作为 npm 的一部分，npx 让你可以直接使用包，无需在本地或全局安装它们。这有助于避免计算机上不必要的文件累积，并帮助保持项目的干净和有组织。npx 随 npm 版本 5.2.0 及更高版本一起发布。

### 它如何工作？

npx 使用一个临时文件夹来运行包而不安装它们。这个过程如下：

1. 首先，npx 通过 npx 命令和可选的指定版本查找要运行的包。
2. 然后，它下载包及其依赖项到临时文件夹中。这个过程类似于使用 npm install 安装包和依赖项。
3. 包的脚本文件（例如 cli.js）位于临时文件夹中并被执行。在此过程中，包使用临时文件夹中的依赖项并与系统的其余部分隔离运行。
4. 包的操作完成后，npx 删除临时文件夹及其所有内容。因此，包及其依赖项不会留在你的系统上，也不会浪费磁盘空间。

### 优点

- 无需本地或全局安装即可直接运行包
- 灵活性，可以使用不同的包版本
- 适用于一次性任务或频繁更新的包
- 避免全局包管理和更新的困扰

### 缺点

- 下载时间可能较长
- 性能影响，常用包不能从缓存中受益
- 依赖管理方面的不足
- 安全问题，有可能意外运行恶意包

### 使用示例

1. create-react-app：创建 React 应用程序的 create-react-app 包。可以直接使用 npx 运行它，而不必全局安装：

```
npx create-react-app my-app
```

2. http-server：快速服务静态文件的 http-server 包。可以使用 npx 运行它：

```
npx http-server
```

3. cowsay：一个有趣的例子，cowsay 包生成以牛形式的有趣消息。可以使用 npx 直接运行它：

```
npx cowsay "Hello world!"
```

### 结论

npx 是一个方便快捷地运行 Node.js 包的工具，允许你在不需要本地或全局安装的情况下使用它们。这有助于节省磁盘空间并避免包版本冲突。npx 特别适用于一次性任务或经常更新的包。在 Node.js 的世界中，尝试使用 npx 来获得更快更便捷的包使用体验吧！