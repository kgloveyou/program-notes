# pnpm

https://www.pnpm.cn/cli/install

## 通过 npm 安装 pnpm


```sh
npm install -g pnpm
```

## pnpm install

Aliases: `i`

## pnpm的优点

`pnpm` 是一个快速、高效的包管理工具，相较于传统的 `npm` 和 `yarn`，它具有以下优点：

---

### 1. **磁盘空间高效利用**
- **硬链接机制**：`pnpm` 使用硬链接在全局存储中共享依赖包，避免了重复下载相同的包，极大地节省了磁盘空间。
- 例如，一个项目依赖 `lodash`，其他项目也依赖相同版本的 `lodash` 时，`pnpm` 只会存储一份副本。

---

### 2. **更快的安装速度**
- 由于依赖包被全局共享，`pnpm` 的安装速度通常比 `npm` 和 `yarn` 更快，尤其是在大型项目中。
- 减少了大量的文件复制操作，提升了性能。

---

### 3. **严格隔离的依赖树**
- `pnpm` 使用符号链接（symlink）创建严格隔离的 `node_modules` 结构，确保每个包只能访问其明确声明的依赖项。
- 这种设计避免了“幽灵依赖”问题（即未显式声明的依赖被错误地引入）。

---

### 4. **支持 monorepo**
- `pnpm` 内置了对 monorepo 的支持，类似于 Lerna 的功能，但更轻量高效。
- 提供了 `workspace` 功能，可以轻松管理多个包及其依赖关系。

---

### 5. **完全兼容 npm**
- `pnpm` 支持 `package.json` 和 `npm` 的所有功能，可以无缝替换 `npm`，几乎不需要额外配置。
- 支持 `npm scripts`、`npx` 等工具。

---

### 6. **更好的安全性**
- 由于依赖被严格隔离，`pnpm` 可以有效减少潜在的依赖冲突和安全漏洞。
- `pnpm` 默认会验证包的完整性，确保安装的包未被篡改。

---

### 7. **轻量级**
- `pnpm` 本身是一个轻量级工具，安装包体积小，运行速度快。

---

### 8. **灵活的存储管理**
- `pnpm` 的全局存储（store）可以自定义位置，方便管理和清理。
- 提供了 `pnpm store prune` 命令，用于清理不再使用的包。

---

### 9. **支持多种工作场景**
- 支持 `npm`、`yarn.lock` 和 `pnpm-lock.yaml`，可以平滑迁移。
- 提供了丰富的命令和配置文件选项，满足各种工作流需求。

---

### 10. **社区活跃**
- `pnpm` 是一个活跃的开源项目，更新频繁，社区支持广泛，文档完善。

---

### 适用场景
- 磁盘空间有限的开发环境。
- 大型项目或 monorepo 项目。
- 需要更严格依赖管理的项目。
- 追求更高性能的开发者。

---

总之，`pnpm` 在性能、磁盘利用率和依赖管理方面具有显著优势，非常适合现代 JavaScript 和 Node.js 开发。