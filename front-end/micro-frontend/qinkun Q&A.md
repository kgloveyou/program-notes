# qinkun é—®é¢˜

1ã€è·¯ç”±æ€ä¹ˆé…ç½®è·³è½¬å¤–é“¾ï¼Œå°±æ˜¯pathé…ç½®äº†httpé“¾æ¥ #10894

https://github.com/ant-design/ant-design-pro/issues/10894

2ã€ğŸ§[é—®é¢˜]antd pro å¼•å…¥qiankunåå¸ƒå±€åˆ†å±‚ #7556

https://github.com/ant-design/ant-design-pro/issues/7556

3ã€Uncaught (in promise) Error: [qiankun]: You need to export lifecycle functions in apsc entry

4ã€@umijs/plugin-qiankunæ”¯æŒä¸»åº”ç”¨ä¸ºantd proé¡¹ç›®(umié¡¹ç›®)ï¼Œå­åº”ç”¨éumié¡¹ç›®å—ï¼ˆæ¯”å¦‚webpack æˆ–è€…vueé¡¹ç›®ï¼‰ï¼Ÿ #12102

https://github.com/umijs/umi/discussions/12102#discussioncomment-8317169

**é—®é¢˜1**ï¼šå› ä¸ºåå‡ ä¸ªåº”ç”¨éƒ½æ˜¯å†å²é¡¹ç›®ï¼ŒåŸºäº    `"umi": "^3.5.13"`çš„ï¼Œä¸€èµ·å»å‡çº§é£é™©æ¯”è¾ƒå¤§ï¼Œæ—¶é—´ä¸Šä¹Ÿä¸å…è®¸ã€‚æ‰€ä»¥åªèƒ½è€ƒè™‘`@umijs/plugin-qiankun`æ’ä»¶ã€‚
**é—®é¢˜3**ï¼šå›åˆ°æ ‡é¢˜ä¸­çš„é—®é¢˜ï¼šä¸»åº”ç”¨æ˜¯ï¼ˆæ–°å»ºçš„ï¼‰antd proé¡¹ç›®(umié¡¹ç›®)ï¼Œä½†æ˜¯å­åº”ç”¨ï¼ˆå†å²é¡¹ç›®ï¼‰æœ‰`umi/webpack/vue`å¤šä¸ªæŠ€æœ¯æ ˆã€‚
è¦ä½¿ç”¨qiankunå¾®å‰ç«¯çš„è¯ï¼Œå¯ä»¥ä¸»åº”ç”¨ä½¿ç”¨`@umijs/plugin-qiankun`å†™æ³•ï¼Œ(umi)å­åº”ç”¨ä½¿ç”¨`@umijs/plugin-qiankun`,(webpack/vue)å­åº”ç”¨ä½¿ç”¨åŸç”Ÿçš„`qiankun`å†™æ³•å—ï¼Ÿ
è¿˜æ˜¯è¯´ï¼Œç›®å‰è¿™ç§æƒ…å†µï¼Œä¸»åº”ç”¨å’Œå­åº”ç”¨å…¨éƒ¨æŒ‰ç…§åŸç”Ÿçš„`qiankun`å†™æ³•å‘¢ï¼Ÿ

åªæœ‰ umi çš„é¡¹ç›®å¯ä»¥ç”¨ `@umijs/plugin-qiankun` ( umi 3 ) ï¼Œä¸è¿‡ä½ å¯ä»¥åœ¨ umi ä¸»åº”ç”¨é‡Œç”¨ qiankun çš„æ–¹æ³• `loadMicroApp` å»åŠ è½½é umi çš„å­åº”ç”¨ï¼Œè¿™ä¸ªå­åº”ç”¨å¿…é¡»è¦éµå¾ª qiankun çš„æ–‡æ¡£å»ä¿®æ”¹å¥½ä»–çš„é…ç½®ã€å¯¼å‡ºï¼Œå°±æ˜¯ç¡®ä¿è¿™ä¸ªå­åº”ç”¨æ˜¯åˆç†çš„ qiankun å­åº”ç”¨å°±å¯ä»¥ã€‚

5ã€[Bug] å¾®å‰ç«¯ umi max ä¸»åº”ç”¨ï¼Œcra å­åº”ç”¨ï¼Œå­åº”ç”¨è·¯ç”±è®¿é—®ä¸äº†

https://github.com/umijs/umi/issues/8965

6ã€ä»é›¶æ­å»ºä¸€ä¸ªqiankunå¾®å‰ç«¯demo #34

https://github.com/zhangyu1818/blog/issues/34

# å¾®å‰ç«¯ @umijs/plugin-qiankun ä¸»åº”ç”¨ï¼Œcra å­åº”ç”¨ï¼Œå¯è¡Œå—ï¼Ÿèƒ½ä¸èƒ½ç”¨çº¦å®šå¼è·¯ç”±ï¼Ÿ #12141

https://github.com/umijs/umi/discussions/12141

umi 3 ä¸ç»´æŠ¤äº†ï¼Œå»ºè®®å‡çº§åˆ° umi 4 ã€‚

åœ¨ umi 4 ä¸­æ˜¯å¯è¡Œçš„ã€‚å…³äº umi 3 çš„ qiankun ç”¨æ³•ï¼Œè¯·è‡ªè¡Œå‚è€ƒ qiankun æ–‡æ¡£å­¦ä¹ å’Œå°è¯•ã€‚

ä¸å¯ä»¥ä½¿ç”¨çº¦å®šå¼è·¯ç”±ï¼›å½“å­åº”ç”¨ä¸ä¸º umi æ—¶ï¼Œè¿™ä¸ªå­åº”ç”¨åªæ˜¯ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ qiankun å¤–éƒ¨åº”ç”¨æ¥çœ‹å¾…ï¼Œå’Œ umi ç›¸å…³çš„ è·¯ç”±ã€modelã€æ•°æ®ä¼ è¾“ç­‰ç­‰ å‡ä¸é€‚ç”¨ï¼Œå› ä¸º umi åœ¨ qiankun åŠ è½½æ—¶å¢åŠ äº†å¾ˆå¤šä¸­é—´å±‚ä»£ç ä½¿å¾—è¿™äº› umi çš„åŠŸèƒ½å¯ä»¥åœ¨å‡ä¸º umi çš„ä¸»ã€å­åº”ç”¨é—´ä½¿ç”¨ï¼Œè€Œå½“å­åº”ç”¨ä¸ä¸º umi æ—¶ï¼Œè¿™äº› umi çš„åŠŸèƒ½éƒ½æ˜¯ç”¨ä¸äº†çš„ã€‚

7ã€umiè¿è¡Œæ—¶é…ç½®

https://v3.umijs.org/zh-CN/docs/runtime-config

8ã€æˆ‘ä»¬æ˜¯æ€ä¹ˆåœ¨é¡¹ç›®ä¸­è½åœ°qiankunçš„

https://mp.weixin.qq.com/s/yu1tKtwneoTI9eSGS4us-g

9ã€Umi + qiankun å®ç°åŠ¨æ€åŠ è½½å­åº”ç”¨è·¯ç”±

https://developer.baidu.com/article/details/2836356

10ã€ç”¨umiæ­å»ºé¡¹ç›®å¾®æœåŠ¡-qiankunå¾®æœåŠ¡çš„é…ç½®

https://blog.csdn.net/sinat_36146776/article/details/107528351

11ã€åŸºäºqiankunçš„å¾®å‰ç«¯æœ€ä½³å®è·µ -ï¼ˆåŒæ—¶åŠ è½½å¤šä¸ªå¾®åº”ç”¨ï¼‰

https://developer.aliyun.com/article/858969

12ã€è¯·é—®antd proçš„å…¥å£æ–‡ä»¶åœ¨å“ªé‡Œ æˆ‘æƒ³åœ¨å…¥å£æ”¾ä¸€ä¸ªç±»ä¼¼ProviderğŸ§[é—®é¢˜] #6763

https://github.com/ant-design/ant-design-pro/issues/6763

13ã€umi-qiankun

https://github.com/blueju/umi-qiankun

14ã€Ant-Design-Proä½¿ç”¨QianKunå¾®å‰ç«¯æœ€ä½³å®è·µï¼ˆâ€»ï¼‰

https://blog.csdn.net/Iversons/article/details/125599974

![img](https://img-blog.csdnimg.cn/770fdee0896540eba73fe48af76a14f1.png)

![img](https://img-blog.csdnimg.cn/3851acc51a544ac8896818d9e173556c.png)

15ã€ä»0å¼€å§‹åˆ›å»ºä¸€ä¸ªqiankunå¾®å‰ç«¯é¡¹ç›®

https://juejin.cn/post/7047754090905862180

```js
const getBasename = () => {
  return process.env.NODE_ENV === 'production'
    ? window.__POWERED_BY_QIANKUN__ // ç”Ÿäº§ç¯å¢ƒ
      ? '/app-react/' // qiankun ä¸­çš„ base
      : '/child/app-react/' // ç‹¬ç«‹è®¿é—®çš„æ—¶å€™çš„ base
    : window.__POWERED_BY_QIANKUN__ // å¼€å‘ç¯å¢ƒ
      ? '/app-react/' // æœ¬åœ°å¼€å‘ä¸­çš„ qiankun ä¸­çš„ base
      : '/'
}

ä½œè€…ï¼šå¤§ç å“¥
é“¾æ¥ï¼šhttps://juejin.cn/post/7047754090905862180
æ¥æºï¼šç¨€åœŸæ˜é‡‘
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

16ã€qiankunå¾®å‰ç«¯å®è·µ

https://www.cnblogs.com/fozero/p/17717323.html

1. è®¾ç½®histroyæ¨¡å¼è·¯ç”±base

å»ºè®®ä½¿ç”¨ history æ¨¡å¼çš„è·¯ç”±ï¼Œè®¾ç½®histroyæ¨¡å¼è·¯ç”±baseï¼Œå€¼å’Œå®ƒçš„ activeRule æ˜¯ä¸€æ ·çš„

```javascript
<BrowserRouter basename={window.__POWERED_BY_QIANKUN__ ? '/child-one' : '/'}>
```

# è·¯ç”±åˆ‡æ¢é—®é¢˜ï¼ˆâ€»ï¼‰

ä¸»åº”ç”¨åˆ‡æ¢è‡³å­åº”ç”¨ï¼Œç„¶åå­åº”ç”¨ä¹‹å‰ç›¸äº’åˆ‡æ¢æ—¶ä¼šå‡ºç°åˆ‡æ¢ä¸è¿‡å»çš„é—®é¢˜ï¼ŒåŸå› æ˜¯å­åº”ç”¨çš„è·¯ç”±é‡å®šå‘å¯¼è‡´

```jsx
{/* å­åº”ç”¨ä¸€å®šä¸èƒ½å†™ï¼Œå¦åˆ™ä¼šå‡ºç°è·¯ç”±è·³è½¬bug */}
{/* <Redirect from="*" to="/"></Redirect> */}
```

https://blog.csdn.net/Mine____/article/details/118380815